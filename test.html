<!DOCTYPE html>
<html>
<head>
    <title>Test Vue.js</title>
    <!-- <link rel="stylesheet" href="normalize.css"> -->
</head>
<body>
    <div id="app">{{ message }}</div>
    <div id="app2">
        <span v-bind:title="message">é¼ æ ‡æ‚¬åœå‡ ç§’é’ŸæŸ¥çœ‹æ­¤å¤„åŠ¨æ€ç»‘å®šçš„æç¤ºä¿¡æ¯ï¼</span>
    </div>
    <div id="app3">
        <p v-if="seen">ç°åœ¨`seen`æ˜¯true</p>
        <button v-on:click="showOrHide">{{ text }}</button>
    </div>
    <div id="app4">
        <ol>
            <li v-for="todo in todos">{{ todo.text }}</li>
        </ol>
    </div>
    <div id="app5">
        <p>{{ message.split('').reverse().join('') }}</p>
        <button v-on:click="reverseMessage">ç‚¹å‡»é€†è½¬ä¸Šé¢çš„æ–‡æœ¬</button>
    </div>
    <div id="app6">
        <p>{{ message }}</p>
        <input v-model="message">
    </div>
    <div id="app7">
        <ol>
            <todo-item v-for="item in groceryList" v-bind:todo="item" v-bind:key="item.id"></todo-item>
        </ol>
    </div>
    <div id="app8">
        <p>{{ foo }}</p>
        <button v-on:click="foo = 'changed'">change it</button>
    </div>
    <div id="app9">
        <p v-once>{{ message }}</p>
    </div>
    <div id="app10">
        <p>{{ html }}</p>
        <p v-html="html">{{ html }}</p>
    </div>
    <div id="app11">
        <p>åŸå§‹æ¶ˆæ¯ï¼š"{{ message }}"</p>
        <p>åè½¬åçš„æ¶ˆæ¯ï¼š"{{ reversedMessage }}"</p>
        <p>{{ reverseMessage() }}</p>
    </div>
    <div id="demo">{{ fullName }}</div>
    <div id="watch-example">
        <p>
            è¯¢é—®ä¸€ä¸ªç»“æœåªå¯èƒ½æ˜¯â€œæ˜¯â€æˆ–â€œå¦â€çš„é—®é¢˜ï¼š
            <input v-model="question">
        </p>
        <p>{{ answer }}</p>
    </div>
<script src="vue.js"></script>
<script src="https://cdn.bootcss.com/axios/0.18.0/axios.min.js"></script>
<script src="https://cdn.bootcss.com/lodash.js/4.17.5/lodash.min.js"></script>
<script type="text/javascript">
    var app = new Vue({
        el: '#app',
        data: {
            message: 'ä½ å¥½Vueï¼Œç°åœ¨æ˜¯' + new Date().toLocaleString()
        }
    });
    var app2 = new Vue({
        el: '#app2',
        data: {
            message: 'é¡µé¢åŠ è½½äº' + new Date().toLocaleString()
        }
    });
    var app3 = new Vue({
        el: '#app3',
        data: {
            seen: true,
            text: 'éšè—'
        },
        methods: {
            showOrHide: function() {
                this.seen = !this.seen;
                this.seen == false ? this.text = 'æ˜¾ç¤º' : this.text = 'éšè—';
            }
        }
    });
    var app4 = new Vue({
        el: '#app4',
        data: {
            todos: [
                {text: 'Python'},
                {text: 'Java'},
                {text: 'JavaScript'}
            ]
        }
    });
    var app5 = new Vue({
        el: '#app5',
        data: {
            message: 'ä½ å¥½ Vue.js'
        },
        methods: {
            reverseMessage: function() {
                this.message = this.message.split('').reverse().join('')
            }
        }
    });
    var app6 = new Vue({
        el: '#app6',
        data: {
            message: 'ä½ å¥½ Vue.js!'
        }
    });
    // å®šä¹‰åä¸º todo-item çš„æ–°ç»„ä»¶
    Vue.component('todo-item', {
        'props': ['todo'],
        template: '<li>{{ todo.text }}</li>'
    });
    var app7 = new Vue({
        el: '#app7',
        data: {
            groceryList: [
                {id: 0, text: 'Python'},
                {id: 1, text: 'Java'},
                {id: 2, text: 'JavaScript'}
            ]
        }
    });
    var obj = {
        foo: 'foo'
    };
    Object.freeze(obj);// é˜»æ­¢ä¿®æ”¹æ­¤å±æ€§
    new Vue({
        el: '#app8',
        data: obj
    });
    var app9 = new Vue({
        el: '#app9',
        data: {
            message: 'ä½¿ç”¨äº†v-onceçš„æ¶ˆæ¯'
        }
    });
    var app10 = new Vue({
        el: '#app10',
        data: {
            html: '<span style="color:red">åº”è¯¥æ˜¯çº¢è‰²çš„æ–‡å­—</span>'
        }
    });
    var app11 = new Vue({
        el: '#app11',
        data: {
            message: '1 + 2 = 3'
        },
        computed: {// è®¡ç®—å±æ€§,æ˜¯åŸºäºå®ƒçš„ä¾èµ–è¿›è¡Œç¼“å­˜çš„
            reversedMessage: function() {
                return this.message.split('').reverse().join('')+Date.now()
            }
        },
        methods: {// å½“ä¸æƒ³è¦ç¼“å­˜çš„æ—¶å€™åˆ™ç”¨æ–¹æ³•å®ç°åŒç­‰æ•ˆæœ
            reverseMessage: function() {
                return Date.now()
            }
        }
    });
    // var demo = new Vue({
    //     el: '#demo',
    //     data: {
    //         firstName: 'Foo',
    //         lastName: 'Bar',
    //         fullName: 'Foo Bar'
    //     },
    //     watch: {
    //         firstName: function(val) {
    //             this.fullName = val + ' ' + this.lastName
    //         },
    //         lastName: function(val) {
    //             this.fullName = this.firstName + ' ' + val
    //         }
    //     }
    // });
    var demo = new Vue({// ä¸å…¶ä¸Šç›¸åŒæ•ˆæœä½†æ›´ç®€å•
        el: '#demo',
        data: {
            firstName: 'Foo',
            lastName: 'Bar',
        },
        computed: {
            fullName: {
                get: function () {
                    return this.firstName + ' ' + this.lastName
                },
                set: function (val) {// é»˜è®¤æœªæä¾›
                    var arr = val.split(' ');
                    this.firstName = arr[0];
                    this.lastName = arr[1];
                }
            }
        }
    });
    var watch_example = new Vue({
        el: '#watch-example',
        data: {
            question: '',
            answer: 'åªæœ‰ä½ é—®äº†åˆé€‚çš„é—®é¢˜æˆ‘æ‰èƒ½ç»™ä½ ä¸€ä¸ªç›¸å¯¹åº”çš„ç­”æ¡ˆğŸ˜Š'
        },
        watch: {
            // å¦‚æœ `question` å‘ç”Ÿæ”¹å˜ï¼Œè¿™ä¸ªå‡½æ•°å°±ä¼šè¿è¡Œ
            question: function (newQuestion, oldQuestion) {
                this.answer = 'ç­‰å¾…ä½ è¾“å…¥å®Œæ¯•...';
                this.getAnswer();
            }
        },
        methods: {
            // `_.debounce` æ˜¯ä¸€ä¸ªé€šè¿‡ Lodash é™åˆ¶æ“ä½œé¢‘ç‡çš„å‡½æ•°ã€‚
            // åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›é™åˆ¶è®¿é—® yesno.wtf/api çš„é¢‘ç‡
            // AJAX è¯·æ±‚ç›´åˆ°ç”¨æˆ·è¾“å…¥å®Œæ¯•æ‰ä¼šå‘å‡ºã€‚æƒ³è¦äº†è§£æ›´å¤šå…³äº
            // `_.debounce` å‡½æ•° (åŠå…¶è¿‘äº² `_.throttle`) çš„çŸ¥è¯†ï¼Œ
            // è¯·å‚è€ƒï¼šhttps://lodash.com/docs#debounce
            getAnswer: _.debounce(
                function () {
                    if (this.question.indexOf('?') === -1) {
                        this.answer = 'é—®é¢˜é€šå¸¸ä»¥ ? ç»“å°¾ã€‚;-)';
                        return;
                    }
                    this.answer = 'æ­£åœ¨æ€è€ƒ...';
                    var obj = this;
                    axios.get('https://yesno.wtf/api').then(function (response) {
                        obj.answer = _.capitalize(response.data.answer);
                    }).catch(function (error) {
                        obj.answer = 'é”™è¯¯ï¼æ— æ³•è¿æ¥APIã€‚' + error;
                    })
                },
                500// è¿™æ˜¯æˆ‘ä»¬ä¸ºåˆ¤å®šç”¨æˆ·åœæ­¢è¾“å…¥ç­‰å¾…çš„æ¯«ç§’æ•°
            )
        }
    });
</script>
</body>
</html>
